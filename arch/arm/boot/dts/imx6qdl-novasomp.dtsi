
// SPDX-License-Identifier: GPL-2.0
/*
 * Copyright 2020 NOVAsom Industries
 *
 * Author: Filippo Visocchi <filippo.visocchi@novasomindustries.com>
 */

#include <dt-bindings/gpio/gpio.h>

/ {
        chosen {
                stdout-path = &uart3;
        };

	sound-spdif {
		compatible = "fsl,imx-audio-spdif";
		model = "imx-spdif";
		spdif-controller = <&spdif>;
		spdif-out;
	};

	reg_1p5v: regulator-1p5v {
		compatible = "regulator-fixed";
		regulator-name = "1P5V";
		regulator-min-microvolt = <1500000>;
		regulator-max-microvolt = <1500000>;
		regulator-always-on;
	};

	reg_1p8v: regulator-1p8v {
		compatible = "regulator-fixed";
		regulator-name = "1P8V";
		regulator-min-microvolt = <1800000>;
		regulator-max-microvolt = <1800000>;
		regulator-always-on;
	};

	reg_2p8v: regulator-2p8v {
		compatible = "regulator-fixed";
		regulator-name = "2P8V";
		regulator-min-microvolt = <2800000>;
		regulator-max-microvolt = <2800000>;
		regulator-always-on;
	};

	reg_2p5v: regulator-2p5v {
		compatible = "regulator-fixed";
		regulator-name = "2P5V";
		regulator-min-microvolt = <2500000>;
		regulator-max-microvolt = <2500000>;
		regulator-always-on;
	};

	reg_3p3v: regulator-3p3v {
		compatible = "regulator-fixed";
		regulator-name = "3P3V";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		regulator-always-on;
	};

	reg_usb_otg_vbus: regulator-usbotgvbus {
		compatible = "regulator-fixed";
		regulator-name = "usb_otg_vbus";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		pinctrl-names = "default";
	};

	reg_eth_phy: regulator-eth-phy {
		compatible = "regulator-fixed";
		regulator-name = "ETH_PHY";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		gpio = <&gpio7 13 GPIO_ACTIVE_LOW>;
	};
};

&hdmi {
	ddc-i2c-bus = <&i2c2>;
	status = "okay";
};

&fec {
	phy-supply = <&reg_eth_phy>;
	status = "okay";
};

&audmux {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_audmux4>;
	status = "okay";
};

&i2c1 {
	clock-frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c1>;
	status = "okay";
};

&i2c2 {
	clock-frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c2>;
	status = "okay";

};

&fec {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_enet>;
	phy-mode = "rmii";
	status = "okay";
};

&spdif {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_spdif>;
	status = "okay";
};

&ssi1 {
	status = "okay";
};

&uart3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart3>;
	status = "okay";
};

&usbh1 {
	status = "okay";
};

&usbotg {
	vbus-supply = <&reg_usb_otg_vbus>;
	pinctrl-names = "default";
	disable-over-current;
	dr_mode = "otg";
	status = "okay";
};

&usdhc1 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_usdhc1>;
        cd-gpios = <&gpio1 1 GPIO_ACTIVE_LOW>;
        no-1-8-v;
        keep-power-in-suspend;
        enable-sdio-wakeup;
        status = "okay";
};
&usdhc4 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_usdhc4>;
        bus-width = <8>;
        vmmc-supply = <&reg_3p3v>;
        status = "okay";
};


&iomuxc {
    pinctrl-names = "default";
    imx6qdl-novasomp {
	pinctrl_audmux4: audmuxgrp4 {
		fsl,pins = <
		MX6QDL_PAD_DISP0_DAT23__AUD4_RXD          0x130b0
		MX6QDL_PAD_DISP0_DAT20__AUD4_TXC          0x130b0
		MX6QDL_PAD_DISP0_DAT21__AUD4_TXD          0x110b0
		MX6QDL_PAD_DISP0_DAT22__AUD4_TXFS         0x130b0
		>;
	};

        pinctrl_enet: enetgrp {
            fsl,pins = <
                MX6QDL_PAD_ENET_MDC__ENET_MDC           0x1b0b0
                MX6QDL_PAD_ENET_MDIO__ENET_MDIO         0x1b0b0
                MX6QDL_PAD_ENET_CRS_DV__ENET_RX_EN      0x1b0b0
                MX6QDL_PAD_ENET_RX_ER__ENET_RX_ER       0x1b0b0
                MX6QDL_PAD_ENET_TX_EN__ENET_TX_EN       0x1b0b0
                MX6QDL_PAD_ENET_RXD0__ENET_RX_DATA0     0x1b0b0
                MX6QDL_PAD_ENET_RXD1__ENET_RX_DATA1     0x1b0b0
                MX6QDL_PAD_ENET_TXD0__ENET_TX_DATA0     0x1b0b0
                MX6QDL_PAD_ENET_TXD1__ENET_TX_DATA1     0x1b0b0
            >;
        };
        pinctrl_hdmi_cec: hdmicecgrp {
            fsl,pins = <
                MX6QDL_PAD_EIM_A25__HDMI_TX_CEC_LINE    0x108b0
            >;
        };
        pinctrl_i2c1: i2c1grp {
            fsl,pins = <
                MX6QDL_PAD_CSI0_DAT8__I2C1_SDA           0x4001b8b1
                MX6QDL_PAD_CSI0_DAT9__I2C1_SCL           0x4001b8b1
            >;
        };
        pinctrl_i2c2: i2c2grp {
            fsl,pins = <
                MX6QDL_PAD_KEY_COL3__I2C2_SCL           0x4001b8b1
                MX6QDL_PAD_KEY_ROW3__I2C2_SDA           0x4001b8b1
            >;
        };
        pinctrl_heartbeat: heartbeatled-grp {
            fsl,pins = <
                MX6QDL_PAD_EIM_D31__GPIO3_IO31          0x17059
            >;
        };
        pinctrl_rc_feedback: rc_feedbackled-grp {
            fsl,pins = <
                MX6QDL_PAD_KEY_COL0__GPIO4_IO06         0x17059
            >;
        };
        pinctrl_novasomp_i_ir: novasomp-i-ir {
            fsl,pins = <
                MX6QDL_PAD_GPIO_2__GPIO1_IO02           0x1b0b1
            >;
        };
        lvds_enable_reg: lvdsgrp {
                fsl,pins = <
                        MX6QDL_PAD_GPIO_18__GPIO7_IO13  0x17059
                >;
        };
        lvds_bl_enable_reg: lvdsblgrp {
                fsl,pins = <
                        MX6QDL_PAD_GPIO_19__GPIO4_IO05  0x17059
                >;
        };
        pinctrl_pcie: pciegrp {
            fsl,pins = <
                MX6QDL_PAD_EIM_D30__GPIO3_IO30          0x17059
            >;
        };
        pinctrl_pcie_reg: pciereggrp {
            fsl,pins = <
                MX6QDL_PAD_NANDF_D4__GPIO2_IO04         0x1b0b0
            >;
        };
        pinctrl_uart3: uart3grp {
            fsl,pins = <
                MX6QDL_PAD_EIM_D24__UART3_TX_DATA       0x1b0b1
                MX6QDL_PAD_EIM_D25__UART3_RX_DATA       0x1b0b1
            >;
        };
        pinctrl_uart5: uart5grp {
            fsl,pins = <
                MX6QDL_PAD_KEY_COL1__UART5_TX_DATA      0x1b0b1
                MX6QDL_PAD_KEY_ROW1__UART5_RX_DATA      0x1b0b1
                MX6QDL_PAD_KEY_ROW4__UART5_CTS_B	0x1b0b1
            >;
        };
        pinctrl_usdhc1: usdhc1grp {
            fsl,pins = <
                MX6QDL_PAD_SD1_CMD__SD1_CMD             0x17059
                MX6QDL_PAD_SD1_CLK__SD1_CLK             0x10059
                MX6QDL_PAD_GPIO_1__SD1_CD_B 	        0x17059
                MX6QDL_PAD_SD1_DAT0__SD1_DATA0          0x17059
                MX6QDL_PAD_SD1_DAT1__SD1_DATA1          0x17059
                MX6QDL_PAD_SD1_DAT2__SD1_DATA2          0x17059
                MX6QDL_PAD_SD1_DAT3__SD1_DATA3          0x17059
            >;
        };
        pinctrl_usdhc4: usdhc4grp {
            fsl,pins = <
                MX6QDL_PAD_SD4_CMD__SD4_CMD             0x17059
                MX6QDL_PAD_SD4_CLK__SD4_CLK             0x10059
                MX6QDL_PAD_SD4_DAT0__SD4_DATA0          0x17059
                MX6QDL_PAD_SD4_DAT1__SD4_DATA1          0x17059
                MX6QDL_PAD_SD4_DAT2__SD4_DATA2          0x17059
                MX6QDL_PAD_SD4_DAT3__SD4_DATA3          0x17059
                MX6QDL_PAD_SD4_DAT4__SD4_DATA4          0x17059
                MX6QDL_PAD_SD4_DAT5__SD4_DATA5          0x17059
                MX6QDL_PAD_SD4_DAT6__SD4_DATA6          0x17059
                MX6QDL_PAD_SD4_DAT7__SD4_DATA7          0x17059
            >;
        };
        pinctrl_i2ctouch_irq: i2ctouch_irqgrp {
                fsl,pinmux-ids = <
                        MX6QDL_PAD_GPIO_6__GPIO1_IO06 
                >;
        };
        pinctrl_pwm1: pwm1grp {
                fsl,pins = <
                        MX6QDL_PAD_GPIO_9__PWM1_OUT 0x1b0b1
                >;
        };
	pinctrl_spdif: spdifgrp {
		fsl,pins = <
			MX6QDL_PAD_ENET_RXD0__SPDIF_OUT         0x1b0b0
		>;
	};

   };
};
